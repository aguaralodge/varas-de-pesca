<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Presupuesto al instante</title>

  <!-- Usa tu CSS actual -->
  <link rel="stylesheet" href="style.css" />

  <!-- CSS m√≠nimo extra (opcional) -->
  <style>
    .presu-wrap{max-width:980px;margin:0 auto;padding:24px 16px}
    .presu-card{background:rgba(0,0,0,.18);border:1px solid rgba(255,255,255,.12);border-radius:16px;padding:16px}
    .presu-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
    @media (max-width:820px){.presu-grid{grid-template-columns:1fr}}

    .presu-row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .presu-row > *{flex:1}

    label{font-weight:650}
    input, select, button{
      border-radius:12px;
      border:1px solid rgba(255,255,255,.16);
      background:rgba(0,0,0,.22);
      color:inherit;
      padding:.65rem .75rem;
      outline:none;
    }
    input::placeholder{opacity:.7}
    button{cursor:pointer;font-weight:750}
    button:hover{filter:brightness(1.06)}
    .muted{opacity:.85;font-size:.95rem;line-height:1.25rem}
    .divider{height:1px;background:rgba(255,255,255,.12);margin:12px 0}
    .total{font-size:1.3rem;font-weight:900}
    .pill{display:inline-flex;gap:8px;align-items:center;padding:.35rem .6rem;border-radius:999px;border:1px solid rgba(255,255,255,.14);background:rgba(0,0,0,.18)}
    .hide{display:none!important}

    /* Overlay contrase√±a */
    .lock{position:fixed;inset:0;background:rgba(0,0,0,.72);backdrop-filter: blur(4px);display:flex;align-items:center;justify-content:center;z-index:9999}
    .lockbox{width:min(520px,92vw);background:rgba(20,20,20,.92);border:1px solid rgba(255,255,255,.14);border-radius:18px;padding:18px}
    .lockbox h2{margin:0 0 10px 0}
    .lockbox .presu-row{margin-top:10px}
    .error{color:#ffd3d3;background:rgba(255,80,80,.10);border:1px solid rgba(255,80,80,.22);padding:.6rem .75rem;border-radius:12px;margin-top:10px}
  </style>
</head>

<body>

  <!-- Gate de contrase√±a -->
  <div id="lock" class="lock">
    <div class="lockbox">
      <h2>Acceso protegido</h2>
      <div class="muted">
        Ingres√° la contrase√±a para usar el creador de presupuestos.
      </div>

      <div class="presu-row">
        <input id="pwd" type="password" placeholder="Contrase√±a" autocomplete="off" />
        <button id="btnUnlock">Entrar</button>
      </div>
      <div id="lockErr" class="error hide">Contrase√±a incorrecta.</div>
      <div class="muted" style="margin-top:10px">
        Tip: si quer√©s, despu√©s lo hacemos con hash/obfuscaci√≥n. Esto es ‚Äúcandado r√°pido‚Äù como el de la calculadora.
      </div>
    </div>
  </div>

  <main class="presu-wrap">
    <h1 style="margin:0 0 10px 0">Presupuesto al instante</h1>
    <div class="muted">
      Eleg√≠ el servicio, carg√° los detalles y gener√° el PDF con tu logo. Luego pod√©s enviar el resumen por WhatsApp para iniciar el trabajo. üß∞üé£
    </div>

    <div class="divider"></div>

    <section class="presu-card">
      <div class="presu-grid">
        <div>
          <label>Nombre y apellido del cliente</label>
          <input id="cliente" type="text" placeholder="Ej: Juan P√©rez" />
        </div>

        <div>
          <label>Servicio</label>
          <select id="servicio">
            <option value="canas">Reparaci√≥n de ca√±as</option>
            <option value="reeles">Mantenimiento de reeles</option>
          </select>
        </div>
      </div>

      <div class="divider"></div>

      <!-- Secci√≥n REELES -->
      <div id="secReeles" class="hide">
        <div class="presu-grid">
          <div>
            <label>Cantidad de reeles</label>
            <input id="cantReeles" type="number" min="1" step="1" value="1" />
          </div>
          <div>
            <label>Precio por reel</label>
            <div class="pill">$20.000 (fijo, cualquier marca/tipo)</div>
          </div>
        </div>

        <div class="divider"></div>

        <div class="muted">
          <strong>Incluye:</strong> desarme √≠ntegro del reel, limpieza de cada pieza con m√°quina de ultrasonido y agentes de limpieza, posterior ensamble y lubricaci√≥n de cada pieza.
        </div>
      </div>

      <!-- Secci√≥n CA√ëAS -->
      <div id="secCanas">
        <h3 style="margin:0 0 10px 0">Pasahilos</h3>

        <div class="presu-grid">
          <div>
            <label>1 pata para rotativo</label>
            <div class="presu-row">
              <input id="q_1p_rot" type="number" min="0" step="1" value="0" />
              <span class="pill">$5.000 c/u</span>
            </div>
          </div>

          <div>
            <label>3 patas para rotativo</label>
            <div class="presu-row">
              <input id="q_3p_rot" type="number" min="0" step="1" value="0" />
              <span class="pill">$5.000 c/u</span>
            </div>
          </div>

          <div>
            <label>3 patas para frontal</label>
            <div class="presu-row">
              <input id="q_3p_fro" type="number" min="0" step="1" value="0" />
              <span class="pill">$7.000 c/u</span>
            </div>
          </div>

          <div>
            <label>Puente para frontal (econ√≥mico)</label>
            <div class="presu-row">
              <input id="q_puente_fro" type="number" min="0" step="1" value="0" />
              <span class="pill">$3.000 c/u</span>
            </div>
          </div>
        </div>

        <div class="divider"></div>

        <h3 style="margin:0 0 10px 0">Opcionales</h3>

        <div class="presu-grid">
          <div>
            <label>Alargue de ca√±a</label>
            <select id="alargue">
              <option value="0">No</option>
              <option value="45000">S√≠ (+$45.000)</option>
            </select>
          </div>

          <div>
            <label>Mango</label>
            <select id="mango">
              <option value="0">Sin agregar</option>
              <option value="40000">Mango de corcho (+$40.000)</option>
              <option value="20000">Mango termocontraible (+$20.000)</option>
            </select>
          </div>

          <div>
            <label>Porta anzuelo</label>
            <select id="porta">
              <option value="0">No</option>
              <option value="5000">S√≠ (+$5.000)</option>
            </select>
          </div>

          <div>
            <label>Calco con nombre</label>
            <select id="calco">
              <option value="0">No</option>
              <option value="8000">S√≠ (+$8.000)</option>
            </select>
          </div>
        </div>
      </div>

      <div class="divider"></div>

      <div class="presu-row" style="justify-content:space-between">
        <div>
          <div class="muted">Total estimado</div>
          <div id="total" class="total">$0</div>
        </div>
        <div class="presu-row" style="flex:0;gap:10px">
          <button id="btnPdf">Generar PDF</button>
          <button id="btnWpp" disabled>Enviar por WhatsApp</button>
        </div>
      </div>

      <div id="hintWpp" class="muted" style="margin-top:10px">
        * WhatsApp abre con el resumen listo. El PDF se descarga: lo adjunt√°s en el chat y arrancan. (Si est√°s en celular, tambi√©n intentamos compartir el PDF).
      </div>
    </section>
  </main>

  <!-- Librer√≠a PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <!-- Tu l√≥gica -->
  <script src="presupuesto.js"></script>
</body>
</html>
